(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-381fa2f5"],{"0262":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content g2-content"},[i("bread-crumb",{ref:"breadcrumb"}),i("div",{staticClass:"video-content"},[i("vue-plyr",[i("video",{attrs:{src:e.apiurl}},[i("source",{attrs:{src:e.apiurl,type:"video/mp4",size:"720"}}),i("source",{attrs:{src:e.apiurl,type:"video/mp4",size:"1080"}})])])],1),i("div",{staticClass:"card"},[i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title"},[e._m(0),e._v(" "+e._s(e.$t("page.video.play"))+" / "),e._m(1),e._v(" "+e._s(e.$t("page.video.download"))+" ")])]),i("div",{staticClass:"card-content"},[i("div",{staticClass:"content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v(e._s(e.$t("page.video.link")))]),i("div",{staticClass:"control"},[i("div",{staticClass:"link-text copy-download-link"},[i("input",{staticClass:"input download-link",attrs:{id:"copy-link",type:"text"},domProps:{value:e.videourl}})]),i("center",[i("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.videourl,expression:"videourl",arg:"copy"}],attrs:{id:"copy-url",type:"button"}},[e._v("Copy Link "),i("i",{staticClass:"fa fa-copy"})]),i("button",{attrs:{id:"copy-url",type:"button"},on:{click:e.downloadButton}},[e._v("Download "),i("i",{staticClass:"fa fa-download"})])])],1)]),i("div",{staticClass:"columns is-mobile is-multiline has-text-centered"},e._l(e.players,(function(t,a){return i("div",{key:a,staticClass:"column videocolumn"},[i("p",{staticClass:"heading"},[i("a",{attrs:{href:t.scheme}},[i("figure",{staticClass:"image is-48x48",staticStyle:{margin:"0 auto"}},[i("img",{staticClass:"icon",attrs:{src:t.icon}})])])]),i("p",{},[e._v(e._s(t.name))])])})),0)])])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"golist"},[e._l(e.getFilteredFiles,(function(t,a){return i("div",{key:a,staticClass:"summa"},[i("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":e.getIcon(t.mimeType)}})]),i("p",{staticClass:"has-text-white",on:{click:function(i){return i.target!==i.currentTarget?null:e.action(t,"application/vnd.google-apps.folder"!==t.mimeType?"view":"")}}},[e._v(e._s(t.name))])])})),i("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],ref:"infinite",attrs:{spinner:"bubbles"},on:{infinite:e.infiniteHandler}},[i("div",{attrs:{slot:"no-more"},slot:"no-more"}),i("div",{attrs:{slot:"no-results"},slot:"no-results"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.files.length,expression:"files.length === 0"}],staticClass:"has-text-centered no-content"})],2)],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fa fa-play-circle",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}})])}],o=i("6a54"),s=o["a"],r=i("2877"),c=Object(r["a"])(s,a,n,!1,null,null,null);t["default"]=c.exports},"6a54":function(e,t,i){"use strict";(function(e){i("4de4"),i("c740"),i("c975"),i("d81d"),i("fb6a"),i("b0c0"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),i("1276");var a=i("2909"),n=i("5530"),o=i("45d8"),s=i("e166"),r=i.n(s),c=i("5880"),l=i("2db9");t["a"]={components:{BreadCrumb:l["default"],InfiniteLoading:r.a},data:function(){return{apiurl:"",videourl:"",infiniteId:+new Date,loading:!0,page:{page_token:null,page_index:0},files:[],viewer:!1,icon:{"application/vnd.google-apps.folder":"icon-morenwenjianjia","video/mp4":"icon-mp","audio/mpeg":"icon-mkv","audio/ogg":"icon-mkv","audio/aac":"icon-mkv","audio/vnd.wav":"icon-mkv","video/x-matroska":"icon-mkv","video/x-msvideo":"icon-avi","video/webm":"icon-webm","text/plain":"icon-txt","text/markdown":"icon-markdown","text/x-ssa":"icon-ASS","text/html":"icon-html","text/x-python-script":"icon-python","text/x-java":"icon-java1","text/x-sh":"icon-SH","application/x-subrip":"icon-srt","application/zip":"icon-zip","application/x-zip-compressed":"icon-zip","application/rar":"icon-rar","application/pdf":"icon-pdf","application/json":"icon-JSON1","application/x-yaml":"icon-YML","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"icon-word","image/bmp":"icon-img","image/jpeg":"icon-img","image/png":"icon-img","image/gif":"icon-img"}}},methods:{infiniteHandler:function(e){this.page.page_token&&(this.page.page_index++,this.render(e))},render:function(e){var t=this;console.log(this.url);var i=this.url.split(this.url.split("/").pop())[0];console.log(i);var o=localStorage.getItem("password"+i),s=this.$route.query.q,r=Object(n["a"])({q:s?decodeURIComponent(s):"",password:o||null},this.page);this.axios.post(i,r).then((function(n){var o=n.data;if(o){if(o.error&&"401"==o.error.code)return void t.checkPassword(i);var s,r=o.data;if(!r)return;if(t.page={page_token:o.nextPageToken,page_index:o.curPageIndex},e)(s=t.files).push.apply(s,Object(a["a"])(t.buildFiles(r.files)));else t.files=t.buildFiles(r.files)}o.nextPageToken?t.$refs.infinite.stateChanger.loaded():t.$refs.infinite.stateChanger.complete(),t.loading=!1})).catch((function(e){t.loading=!1,console.log(e)}))},buildFiles:function(e){var t=this.url.split(this.url.split("/").pop())[0];return console.log(t),e?e.map((function(e){var i=t+Object(o["c"])(e.name,e),a="application/vnd.google-apps.folder"===e.mimeType,s=a?"-":Object(o["f"])(e.size);return Object(n["a"])(Object(n["a"])({path:i},e),{},{modifiedTime:Object(o["e"])(e.modifiedTime),size:s,isFolder:a})})):[]},checkPassword:function(e){var t=prompt(this.$t("list.auth"),"");localStorage.setItem("password"+e,t),null!=t&&""!=t?this.render(e):this.$router.go(-1)},downloadButton:function(){window.open(this.videourl)},getVideourl:function(){this.videourl=window.location.origin+encodeURI(this.url),this.apiurl=this.videourl},getIcon:function(e){return"#"+(this.icon[e]?this.icon[e]:"icon-weizhi")},gotoPage:function(e){this.$router.push(e)},action:function(e,t){var i=this;if(-1!=e.mimeType.indexOf("image"))return this.viewer=!0,void this.$nextTick((function(){var t=i.images.findIndex((function(t){return t.path===e.path}));i.$viewer.view(t)}));var a=this.$route.params.cmd;a&&"search"===a?this.goSearchResult(e,t):this.target(e,t)},target:function(e,t){var i=e.path;"_blank"!==t?"copy"!==t?"down"!==t&&(Object(o["a"])(i)||e.isFolder)?"view"!==t?"application/vnd.google-apps.folder"!==e.mimeType||this.$router.push({path:i}):this.$router.push({path:Object(o["b"])(i)}):location.href=i.replace(/^\/(\d+:)\//,"/$1down/"):this.copy(i):window.open(i)}},activated:function(){this.getVideourl(),this.render()},computed:Object(n["a"])(Object(n["a"])({getFilteredFiles:function(){var e=this;return this.files.slice(0,10).filter((function(t){return t.name!=e.url.split("/").pop()}))},url:function(){return this.$route.params.path?Object(o["d"])(this.$route.params.path):""}},Object(c["mapState"])("acrou/view",["mode"])),{},{players:function(){return[{name:"IINA",icon:this.$cdnpath("images/player/iina.png"),scheme:"iina://weblink?url="+this.videourl},{name:"PotPlayer",icon:this.$cdnpath("images/player/potplayer.png"),scheme:"potplayer://"+this.videourl},{name:"VLC",icon:this.$cdnpath("images/player/vlc.png"),scheme:"vlc://"+this.videourl},{name:"Thunder",icon:this.$cdnpath("images/player/thunder.png"),scheme:"thunder://"+this.getThunder},{name:"Aria2",icon:this.$cdnpath("images/player/aria2.png"),scheme:'javascript:alert("Not Yet Supported")'},{name:"nPlayer",icon:this.$cdnpath("images/player/nplayer.png"),scheme:"nplayer-"+this.videourl},{name:"MXPlayer(Free)",icon:this.$cdnpath("images/player/mxplayer.png"),scheme:"intent:"+this.videourl+"#Intent;package=com.mxtech.videoplayer.ad;S.title="+this.title+";end"},{name:"MXPlayer(Pro)",icon:this.$cdnpath("images/player/mxplayer.png"),scheme:"intent:"+this.videourl+"#Intent;package=com.mxtech.videoplayer.pro;S.title="+this.title+";end"}]},getThunder:function(){return e.from("AA"+this.videourl+"ZZ").toString("base64")}})}}).call(this,i("b639").Buffer)}}]);